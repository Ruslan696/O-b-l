(()=>{var e={335:()=>{document.addEventListener("DOMContentLoaded",(()=>{jQuery((function(e){e((function(){e("#accordion").accordion({collapsible:!0,active:-100,icons:!1,heightStyle:"content"})}))}))})),console.log("hello from accordion")}},t={};function o(n){var r=t[n];if(void 0!==r)return r.exports;var s=t[n]={exports:{}};return e[n](s,s.exports,o),s.exports}o.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return o.d(t,{a:t}),t},o.d=(e,t)=>{for(var n in t)o.o(t,n)&&!o.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},o.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{"use strict";o(335),document.addEventListener("DOMContentLoaded",(()=>{function e(e){const t=e.srcElement.duration,o=e.srcElement.currentTime,n=o/t*100;e.target.parentNode.querySelector(".player__progressbar").style.width=`${n}%`;const r=e.target.parentNode.querySelector(".player__current-time");min=Math.trunc(Math.trunc(o)/60),sec=Math.trunc(o)-60*min;const s=Math.trunc(t/60);min<=s&&(sec<10?r.textContent=`${min}:0${sec}`:r.textContent=`${min}:${sec}`,60==sec&&(sec=0)),o==t&&(console.log("the end"),document.querySelector(".next-btn").click())}function t(e){let t=document.querySelector(".popup-donation"),o=t.querySelector(".popup-donation__container");!0===e?(t.querySelector(".popup-donation__coins").classList.remove("display-none"),t.querySelector(".popup-donation__contacts").classList.add("display-none")):(t.querySelector(".popup-donation__coins").classList.add("display-none"),t.querySelector(".popup-donation__contacts").classList.remove("display-none")),t.classList.add("is-open"),o.classList.add("is-open"),t.addEventListener("click",(e=>{e.target.closest(".popup-donation__container")||(t.classList.remove("is-open"),o.classList.remove("is-open"))}))}document.querySelectorAll(".albums__title").forEach((t=>{t.addEventListener("click",(t=>{const o=t.target.closest(".albums__title"),n=o.nextElementSibling,r=o.textContent,s=r.indexOf("-")-1,l=r.slice(0,s),c=document.createElement("span");c.classList.add("player__artist"),c.textContent=` · ${l}`;const a=n.querySelector(".albums__list");console.log(n);const i=n.querySelector(".albums__track").textContent;if(!n.querySelector(".player")){{player=addPlayer(i),n.querySelector(".albums__player").insertBefore(player,a);const e=n.querySelector(".player__progress-container");n.querySelector(".player__song-container").insertBefore(c,e),document.querySelectorAll(".play-btn").forEach((e=>{e.addEventListener("click",(e=>{if(!e.target.closest(".play-btn")){const t=e.target.closest(".pause-btn"),o=t.parentNode.parentNode.querySelector("audio");return t.innerHTML='<?xml version="1.0" encoding="iso-8859-1"?>\n        <svg version="1.1" id="Capa_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px"\n           viewBox="0 0 60 60" style="enable-background:new 0 0 60 60;" xml:space="preserve">\n        <g>\n          <path d="M45.563,29.174l-22-15c-0.307-0.208-0.703-0.231-1.031-0.058C22.205,14.289,22,14.629,22,15v30\n            c0,0.371,0.205,0.711,0.533,0.884C22.679,45.962,22.84,46,23,46c0.197,0,0.394-0.059,0.563-0.174l22-15\n            C45.836,30.64,46,30.331,46,30S45.836,29.36,45.563,29.174z M24,43.107V16.893L43.225,30L24,43.107z" fill = "white"/>\n          <path d="M30,0C13.458,0,0,13.458,0,30s13.458,30,30,30s30-13.458,30-30S46.542,0,30,0z M30,58C14.561,58,2,45.439,2,30\n            S14.561,2,30,2s28,12.561,28,28S45.439,58,30,58z" fill = "white"/>\n        </svg>',o.pause(),t.classList.add("play-btn"),void t.classList.remove("pause-btn")}document.querySelector(".pause-btn")&&document.querySelectorAll(".pause-btn").forEach((e=>{e.innerHTML='<?xml version="1.0" encoding="iso-8859-1"?>\n            <svg version="1.1" id="Capa_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px"\n               viewBox="0 0 60 60" style="enable-background:new 0 0 60 60;" xml:space="preserve">\n            <g>\n              <path d="M45.563,29.174l-22-15c-0.307-0.208-0.703-0.231-1.031-0.058C22.205,14.289,22,14.629,22,15v30\n                c0,0.371,0.205,0.711,0.533,0.884C22.679,45.962,22.84,46,23,46c0.197,0,0.394-0.059,0.563-0.174l22-15\n                C45.836,30.64,46,30.331,46,30S45.836,29.36,45.563,29.174z M24,43.107V16.893L43.225,30L24,43.107z" fill = "white"/>\n              <path d="M30,0C13.458,0,0,13.458,0,30s13.458,30,30,30s30-13.458,30-30S46.542,0,30,0z M30,58C14.561,58,2,45.439,2,30\n                S14.561,2,30,2s28,12.561,28,28S45.439,58,30,58z" fill = "white"/>\n            </svg>',e.classList.remove("pause-btn"),e.classList.add("play-btn")})),document.querySelectorAll("audio").forEach((e=>{e.pause()}));const t=e.target.closest(".play-btn"),o=t.parentNode.parentNode.querySelector("audio");t.innerHTML='<?xml version="1.0" encoding="iso-8859-1"?>\n          <svg version="1.1" id="Capa_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px"\n             viewBox="0 0 60 60" style="enable-background:new 0 0 60 60;" xml:space="preserve">\n          <g>\n            <path d="M30,0C13.458,0,0,13.458,0,30s13.458,30,30,30s30-13.458,30-30S46.542,0,30,0z M30,58C14.561,58,2,45.439,2,30\n              S14.561,2,30,2s28,12.561,28,28S45.439,58,30,58z" fill="white"/>\n            <path d="M33,46h8V14h-8V46z M35,16h4v28h-4V16z" fill="white"/>\n            <path d="M19,46h8V14h-8V46z M21,16h4v28h-4V16z" fill="white"/>\n          </svg>',o.play(),t.classList.remove("play-btn"),t.classList.add("pause-btn")}))})),document.querySelectorAll(".player__progress").forEach((e=>{e.addEventListener("click",(e=>{const t=e.target.closest(".player").querySelector("audio"),o=(e.target.closest(".player").querySelector(".player__progressbar"),e.target.closest(".player").querySelector(".player__progress").clientWidth),n=e.offsetX,r=t.duration;t.currentTime=n/o*r}))})),n.querySelectorAll(".action-btn").forEach((e=>{e.addEventListener("click",(e=>{if(console.log("click"),e.target.closest(".is-disabled"))return;const t=e.target.closest(".albums__player"),o=t.querySelector("audio"),n=t.querySelector(".player__song");let r=[];t.querySelectorAll(".albums__track").forEach((e=>{r.push(e.textContent)})),console.log(r);const s=r.length-1;if(e.target.closest(".next-btn")){t.querySelector(".prev-btn.is-disabled")&&t.querySelector(".prev-btn.is-disabled").classList.remove("is-disabled");for(const l of r)if(n.textContent==l){const c=r.indexOf(l);if(c>=s-1&&e.target.closest(".next-btn").classList.add("is-disabled"),c<s){const e=r[c+1];return console.log(e),n.textContent=`${e}`,o.src=`../audio/${e}.mp3`,document.querySelectorAll("audio").forEach((e=>{e.pause()})),t.querySelector(".play-btn")?void t.querySelector(".play-btn").click():void o.play()}}}if(e.target.closest(".prev-btn")){t.querySelector(".next-btn.is-disabled")&&t.querySelector(".next-btn.is-disabled").classList.remove("is-disabled");for(const l of r)if(n.textContent==l){const c=r.indexOf(l);if(c<=1&&e.target.closest(".prev-btn").classList.add("is-disabled"),c<=s){let e=r[c-1];return console.log(e),n.textContent=`${e}`,o.src=`../audio/${e}.mp3`,document.querySelectorAll("audio").forEach((e=>{e.pause()})),t.querySelector(".play-btn")?void t.querySelector(".play-btn").click():void o.play()}}}}))})),document.querySelectorAll(".albums__item").forEach((e=>{e.addEventListener("click",(e=>{let t=[];document.querySelector(".pause-btn")&&document.querySelectorAll(".pause-btn").forEach((e=>{e.classList.remove("pause-btn"),e.classList.add("play-btn"),e.innerHTML='<?xml version="1.0" encoding="iso-8859-1"?>\n            <svg version="1.1" id="Capa_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px"\n               viewBox="0 0 60 60" style="enable-background:new 0 0 60 60;" xml:space="preserve">\n            <g>\n              <path d="M45.563,29.174l-22-15c-0.307-0.208-0.703-0.231-1.031-0.058C22.205,14.289,22,14.629,22,15v30\n                c0,0.371,0.205,0.711,0.533,0.884C22.679,45.962,22.84,46,23,46c0.197,0,0.394-0.059,0.563-0.174l22-15\n                C45.836,30.64,46,30.331,46,30S45.836,29.36,45.563,29.174z M24,43.107V16.893L43.225,30L24,43.107z" fill = "white"/>\n              <path d="M30,0C13.458,0,0,13.458,0,30s13.458,30,30,30s30-13.458,30-30S46.542,0,30,0z M30,58C14.561,58,2,45.439,2,30\n                S14.561,2,30,2s28,12.561,28,28S45.439,58,30,58z" fill = "white"/>\n            </svg>'}));const o=e.target.closest(".albums__item"),n=o.querySelector(".albums__track").textContent,r=o.parentNode.parentNode.querySelector(".player");o.closest(".albums__list").querySelectorAll(".albums__track").forEach((e=>{t.push(e.textContent)}));const s=t.length-1;r.querySelectorAll(".action-btn").forEach((e=>{e.classList.remove("is-disabled")})),0==t.indexOf(n)?r.querySelector(".prev-btn").classList.add("is-disabled"):t.indexOf(n)==s&&r.querySelector(".next-btn").classList.add("is-disabled");const l=r.querySelector("audio");l.src=`../audio/${n}.mp3`,r.querySelector(".player__song").textContent=`${n}`,l.addEventListener("loadedmetadata",(()=>{timeSong=l.duration,console.log("duration",timesong),timeSong=Math.trunc(timeSong),minutes=Math.trunc(timeSong/60),minutes<10&&(minutes=`0${minutes}`),sec=timeSong-60*minutes,sec<10&&(sec=`0${sec}`),r.querySelector(".player__full-time").textContent=` ${minutes}:${sec}`,r.querySelector(".player__current-time").textContent=`${l.currentTime} /`,r.querySelector(".play-btn")&&r.querySelector(".play-btn").click()}))}))})),n.querySelectorAll(".albums__item").length<2&&n.querySelectorAll(".action-btn").forEach((e=>{e.classList.add("is-disabled")}))}document.querySelectorAll("audio").forEach((t=>{t.addEventListener("timeupdate",e)}))}}))})),document.querySelectorAll(".albums__img").forEach((e=>{e.addEventListener("click",(e=>{const t=e.target.src;document.querySelector("body overflow")||document.querySelector("body").classList.add("overflow");const o=document.querySelector(".popup-cover"),n=o.querySelector(".popup-cover__container");o.querySelector(".popup-cover__img").src=t,o.classList.add("is-open"),n.classList.add("is-open"),o.addEventListener("click",(e=>{document.querySelector(".popup-tape.is-open")||document.querySelector("body").classList.remove("overflow"),o.classList.remove("is-open"),n.classList.remove("is-open")}))}))})),document.querySelectorAll(".merch-btn").forEach((e=>{e.addEventListener("click",(e=>{let t=e.target.closest(".albums__box").querySelector(".albums__img").src.slice(0,-4);console.log(t);const o=e.target.closest(".albums__box").previousElementSibling.innerHTML;console.log(o),document.querySelector("body overflow")||document.querySelector("body").classList.add("overflow");const n=document.querySelector(".popup-tape"),r=n.querySelector(".popup-tape__container"),s=n.querySelector(".popup-tape__title"),l=n.querySelector(".popup-tape__descr.rus"),c=n.querySelector(".popup-tape__descr.eng"),a=n.querySelector(".popup-tape__img_1"),i=n.querySelector(".popup-tape__img_2");s.innerHTML=o,a.src=`${t}-tape1.jpg`,i.src=`${t}-tape2.jpg`,t.includes("obl1")?(l.innerHTML="Дымчатый матовый кейс, зашкуренный вручную корпус с тампопечатью.",c.innerHTML="Smoky box, hand-sanded case with pad printing."):t.includes("obl2")?(l.innerHTML='Вторичное использование советских кассет типа "МК" с новой магнитной пленкой, самодельные обложки, ксерокс с элемантами коллажа.',c.innerHTML='Recycle soviet tapes "MK" with modern magnetic tape. DIY covers, xerox with collage elements.'):t.includes("obl3")?(l.innerHTML='Вторичное использование советских кассет типа "МК" с новой магнитной пленкой, самодельные обложки, ксерокс с эелемантами коллажа.',c.innerHTML='Recycle soviet tapes "MK" with modern magnetic tape. DIY covers, xerox with collage elements.'):t.includes("obl4")&&(l.innerHTML='Вторичное использование советских кассет типа "МК" с новой магнитной пленкой, печать плоская, бумага неустановленная,художественное оформление и печать сделаны издательством «Подклет» г. Червоград.',c.innerHTML='Recycle soviet tapes "MK" with modern magnetic tape,  flat printing, unknown paper, art and print by Podklet publishing house in Chervograd.'),n.classList.add("is-open"),r.classList.add("is-open"),n.addEventListener("click",(e=>{e.target.closest(".popup-tape__img")||e.target.closest(".popup-tape__descr")||e.target.closest(".popup-tape__for-sale")||(n.classList.remove("is-open"),r.classList.remove("is-open"),document.querySelector("body").classList.remove("overflow"))}))}))})),document.querySelector(".lang__btn_rus").addEventListener("click",(e=>{e.target.classList.contains("is-active")||(e.target.classList.add("is-active"),document.querySelector(".lang__btn_eng").classList.remove("is-active"),document.querySelectorAll(".eng").forEach((e=>{e.classList.add("display-none")})),document.querySelectorAll(".rus").forEach((e=>{e.classList.remove("display-none")})))})),document.querySelector(".lang__btn_eng").addEventListener("click",(e=>{e.target.classList.contains("is-active")||(e.target.classList.add("is-active"),document.querySelector(".lang__btn_rus").classList.remove("is-active"),document.querySelectorAll(".rus").forEach((e=>{e.classList.add("display-none")})),document.querySelectorAll(".eng").forEach((e=>{e.classList.remove("display-none")})))})),document.querySelectorAll(".footer__link").forEach((e=>{e.addEventListener("click",(()=>{t(btn=!0)}))})),document.querySelectorAll(".contacts-btn").forEach((e=>{e.addEventListener("click",(()=>{t(btn=!1)}))})),document.querySelector(".footer__video-btn").addEventListener("click",(()=>{const e=document.querySelector(".popup-video"),t=document.querySelector(".popup-video__container");t.getElementsByTagName("iframe")&&(t.innerHTML='<iframe id="player" width="100%" height="100%" src="https://www.youtube.com/embed/E3YmuEBXxP8?rel=0"\n      title="YouTube video player" frameborder="0"\n      allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture"\n      allowfullscreen>\n    </iframe>'),e.classList.add("is-open"),e.addEventListener("click",(o=>{o.target.closest(".popup-donation__container")||(e.classList.remove("is-open"),t.classList.remove("is-open"))}))}))}))})()})();